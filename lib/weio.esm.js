class t{baseOptions;constructor(t){this.baseOptions=t??{}}request(t){return t.url=`${this.baseOptions?.baseURL??""}${t?.url}`,!0!==t.qs||"object"!==function(t){const[e]=Object.prototype.toString.call(t).match(/[A-Z]\w+/);return e.toLocaleLowerCase()}(t.data)||"POST"!==t.method&&"PUT"!==t.method||(t.url+=this.qs(t.data)),new Promise(((e,r)=>{wx.request({...this.baseOptions,...t,success:t=>e(t),fail:t=>r(t)})}))}static create(e){return new t(e)}weioFactory(t){return e=>(e.method=t,this.request(e))}qs(t){return`?${Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}`}get(t,e){return this.weioFactory("GET")({url:t,data:e?.params,...e})}post(t,e,r){return this.weioFactory("POST")({url:t,data:e,...r})}put(t,e,r){return this.weioFactory("PUT")({url:t,data:e,...r})}delete(t,e){return this.weioFactory("DELETE")({url:t,data:e?.params,...e})}options(t,e){return this.weioFactory("OPTIONS")({url:t,data:e?.params,...e})}head(t,e){return this.weioFactory("HEAD")({url:t,data:e?.params,...e})}}export{t as default};
